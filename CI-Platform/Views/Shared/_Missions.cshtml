@using CI_Entity.ViewModel;
@*@model List<CI_Entity.Models.Mission>*@
@model MissionList
        


        <div class="row " id="myItem">

            @foreach (var item in @Model.mission)
            {


                <div class="missioncard col-12 col-md-6 col-lg-4 mb-2 " id="myItems">

                    <div class="card">

                        <div class="img-event">
                            <img class="card-img-top card-img"
                                 src="/Image/Grow-Trees-On-the-path-to-environment-sustainability-login.png"
                                 alt="Card image cap">
                            <div class="landing-page-top-right "><img src="/Image/pin.png" alt="">@item.City.Name</div>

                            <div class="landing-page-bottom-right d-flex flex-column">
                                <button class="mb-2 landing-page-btn-img">
                                    <img src="/Image/heart.png" alt="">
                                </button>
                                <button class="landing-page-btn-img">
                                    <img src="/Image/user.png" alt="">
                                </button>
                            </div>

                            <div><button class="theme-btn ">@item.Theme.Title</button></div>
                            <!-- <button class="theme-btn ">Environment</button> -->
                        </div>


                        <div class="card-body mt-2">
                            <h5 class="card-title " style="overflow: hidden; display: -webkit-box;-webkit-line-clamp: 1;-webkit-box-orient: vertical;">
                                @item.Title
                            </h5>
                            <p class="card-text text-secondary " style="overflow: hidden; display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;">
                                @item.ShortDescription
                            </p>

                            <div class="d-flex">
                                <div class="card-text">@item.OrganizationName</div>
                                <div class="ms-auto">
                                    
                                    <img src="/Image/selected-star.png" class="star" alt="">
                                    <img src="/Image/selected-star.png" class="star" alt="">
                                    <img src="/Image/selected-star.png" class="star" alt="">
                                    <img src="/Image/star-empty.png" class="star" alt="">
                                    <img src="/Image/star-empty.png" class="star" alt="">
                                </div>
                            </div>
                            @{
                                var goalobj = Model.goalMissions.Where(e => e.MissionId == item.MissionId).FirstOrDefault();
                            }

                            @if (item.MissionType == "Time")
                            {
                                <div class="rule mt-2">
                                    <hr>
                                    <button class="date-btn mt-1 p-1">From @item.StartDate.ToString().Split(" ")[0] to @item.EndDate.ToString().Split(" ")[0]</button>
                                    <hr>
                                </div>
                            }
                            else
                            {
                               
                                 <div class="rule mt-2">
                                    <hr>
                                    <button class="date-btn mt-1 p-1">@goalobj.GoalObjectiveText</button>
                                    <hr>
                                </div>
                            }


                            <div class="d-flex">
                                <div><img src="/Image/Seats-left.png" class="mt-2"></div>
                                <div class="ms-2">
                                    @item.Availability <p class="seat">seat Left</p>
                                </div>


                                @if (item.MissionType == "Time")
                                {
                                    <div class="ms-auto"><img src="/Image//deadline.png" class="mt-2"></div>
                                    <div class="ms-2">
                                        @item.EndDate.ToString().Split(" ")[0] <p>Deadline</p>
                                    </div>
                                }
                                else
                                {

                                    <div class="ms-auto me-2"><img src="/Image/achieved.png" class="mt-2"></div>
                                    <div class="ms-2 me-5" stye="width:100%">
                                        <div class="progress mt-2" role="progressbar" aria-label="Example with label" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                                            <div class="progress-bar bg-warning" style="width: 25%">25%</div>
                                        </div>
                                        <fs-5>8000</fs-5>
                                    </div>
                                }

                           </div>
                            <hr class="mt-0">

                            <div class="text-center">
                                <button class="Apply-btn p-2">
                                    <a href="/Volunteering/Volunteering?missionid=@item.MissionId" class="" style="text-decoration:none;color:orange"> &nbsp;Apply &nbsp;&nbsp;<img src="/Image/right-arrow.png"></a>
                                </button>
                            </div>
                        </div>
                    </div>

                </div>

            }

        </div>


    </div>
    <nav aria-label="Page navigation example" class="d-flex justify-content-center">

        <ul class="pagination">

            <li class="page-item @(ViewBag.CurrentPage == 0 ? "disabled" : "")">
            <a class="page-link" href="/Landingpage/_Missions/?sortOreder=@ViewBag.Order&searchQuery=@ViewBag.searchQuery&pageIndex=@(ViewBag.CurrentPage - 1)" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>

            @for (int i = 0; i < ViewBag.TotalPages; i++)
            {
                <li class="page-item @(i == ViewBag.CurrentPage ? "active" : "")">
                <a class="page-link" href="/Landingpage/_Missions/?sortOreder=@ViewBag.Order&searchQuery=@ViewBag.searchQuery&pageIndex=@i">@((i + 1).ToString())</a>
                </li>
            }

            <li class="page-item @(ViewBag.CurrentPage == ViewBag.TotalPages - 1 ? "disabled" : "")">
            <a class="page-link" href="/Landingpage/_Missions/?sortOreder=@ViewBag.Order&searchQuery=@ViewBag.searchQuery&pageIndex=@(ViewBag.CurrentPage + 1)" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>

        </ul>
    </nav>
    